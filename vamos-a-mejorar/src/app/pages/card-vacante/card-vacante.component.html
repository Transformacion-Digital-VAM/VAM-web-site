<div class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title">
        <i class="fas fa-user-tie"></i>
        Postulación: {{ vacante.titulo }}
      </h3>
      <button (click)="onClose()" class="modal-close-btn">&times;</button>
    </div>

    <form (ngSubmit)="submitForm()" #postForm="ngForm" enctype="multipart/form-data" class="modal-form">
      <!-- Nombre completo -->
      <div>
        <label class="form-label">
          <i class="fas fa-user"></i> Nombre completo<span class="text-danger">*</span>
        </label>
        <input name="nombre" [(ngModel)]="form.nombre" class="form-input" required />
      </div>

      <!-- Teléfono -->
      <div>
        <label class="form-label">
          <i class="fas fa-phone"></i> Teléfono <span class="text-danger">*</span>
        </label>
        <input name="telefono" [(ngModel)]="form.telefono" class="form-input" required />
      </div>

      <!-- Correo -->
      <div>
        <label class="form-label">
          <i class="fas fa-envelope"></i> Correo electrónico <span class="text-danger">*</span>
        </label>
        <input type="email" name="email" [(ngModel)]="form.email" class="form-input" required />
      </div>

      <!-- CV -->
      <div>
        <label class="form-label">
          <i class="fas fa-file-pdf"></i> CV (PDF) <span class="text-danger">*</span>
        </label>
        <input type="file" accept="application/pdf" (change)="onFileChange($event)" required />
        <div *ngIf="fileError" class="form-error">{{ fileError }}</div>
      </div>

      <!-- Mensaje adicional -->
      <div>
        <label class="form-label">
          <i class="fas fa-comment"></i> Mensaje adicional
        </label>
        <textarea name="mensaje" [(ngModel)]="form.mensaje" rows="3" class="form-textarea"></textarea>
      </div>

      <!-- Botones -->
      <div class="modal-footer">
        <button type="button" class="btn-secondary" (click)="onClose()">Cancelar</button>
        <button type="submit" class="btn-primary" [disabled]="postForm.invalid || submitting">
          {{ submitting ? 'Enviando…' : 'Enviar solicitud' }}
        </button>
      </div>
    </form>
  </div>
</div>
